
<!doctype html>
<html lang="ko" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../1-pi/">
      
      
        <link rel="next" href="../3-cloud/">
      
      
      <link rel="icon" href="../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>server - Server Build</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Inter";--md-code-font:"JetBrains Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="pink" data-md-color-accent="deep-purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ubuntu-2204-server-arm64" class="md-skip">
          콘텐츠로 이동
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="상단/헤더">
    <a href=".." title="Server Build" class="md-header__button md-logo" aria-label="Server Build" data-md-component="logo">
      
  <img src="../assets/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Server Build
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              server
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="pink" data-md-color-accent="deep-purple"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="pink" data-md-color-accent="deep-purple"  aria-label="다크 모드"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="다크 모드" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="검색" placeholder="검색" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="검색">
        
        <button type="reset" class="md-search__icon md-icon" title="지우기" aria-label="지우기" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            검색 초기화
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="탭" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  개요

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../0-study/" class="md-tabs__link">
        
  
  
    
  
  study

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../1-pi/" class="md-tabs__link">
        
  
  
    
  
  pi

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
  
    
  
  server

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../3-cloud/" class="md-tabs__link">
        
  
  
    
  
  cloud

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../4-html/" class="md-tabs__link">
        
  
  
    
  
  html

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="네비게이션" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Server Build" class="md-nav__button md-logo" aria-label="Server Build" data-md-component="logo">
      
  <img src="../assets/logo.svg" alt="logo">

    </a>
    Server Build
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    개요
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../0-study/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    study
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../1-pi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    pi
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    server
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    server
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="목차">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      목차
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ubuntu-2204-server-arm64" class="md-nav__link">
    <span class="md-ellipsis">
      Ubuntu-22.04-server-arm64에서 웹서버를 구축해보자.
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ubuntu-22.04-server-arm64에서 웹서버를 구축해보자.">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      목표: 네트워크의 이해
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#0" class="md-nav__link">
    <span class="md-ellipsis">
      0&gt; 환경 점검
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1&gt; 구성 결정
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-ip" class="md-nav__link">
    <span class="md-ellipsis">
      2&gt; ip 주소 확인
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-ip-server" class="md-nav__link">
    <span class="md-ellipsis">
      3&gt; ip 주소 고정 - server 버전
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-ip-desktop" class="md-nav__link">
    <span class="md-ellipsis">
      4&gt; ip 주소 고정 - desktop 버전
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-apache2" class="md-nav__link">
    <span class="md-ellipsis">
      5&gt; Apache2 웹 서버 설치
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    <span class="md-ellipsis">
      6&gt; 포트포워딩
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-ddns" class="md-nav__link">
    <span class="md-ellipsis">
      7&gt; 도메인 및 DDNS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-https" class="md-nav__link">
    <span class="md-ellipsis">
      8&gt; https로 리디렉션
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9" class="md-nav__link">
    <span class="md-ellipsis">
      9&gt; 테스트
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../3-cloud/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    cloud
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../4-html/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    html
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



  <h1>server</h1>

<h2 id="ubuntu-2204-server-arm64">Ubuntu-22.04-server-arm64에서 웹서버를 구축해보자.<a class="headerlink" href="#ubuntu-2204-server-arm64" title="Permanent link">🔗</a></h2>
<h3 id="_1">목표: 네트워크의 이해<a class="headerlink" href="#_1" title="Permanent link">🔗</a></h3>
<p>작성자: kkongnyang2 작성일: 2025-06-09</p>
<hr />
<h3 id="0">0&gt; 환경 점검<a class="headerlink" href="#0" title="Permanent link">🔗</a></h3>
<p>하드웨어: raspberrypi4 model B<br />
├─cpu: arm cortex A72<br />
├─ram: 4GB<br />
└─sd카드: 32GB micro<br />
운영체제: ubuntu-22.04-server-arm64<br />
외부 저장장치: 없음</p>
<hr />
<h3 id="1">1&gt; 구성 결정<a class="headerlink" href="#1" title="Permanent link">🔗</a></h3>
<p>오늘 만들 구성은 다음과 같다</p>
<ul>
<li>서버 프로그램 : Apache(웹서버)</li>
<li>네트워크 설정 : IP주소 고정, 포트포워딩, 방화벽 설정, 도메인 생성, DDNS 설정, 인증서</li>
</ul>
<hr />
<h3 id="2-ip">2&gt; ip 주소 확인<a class="headerlink" href="#2-ip" title="Permanent link">🔗</a></h3>
<p>step 1. 내 기기 ip 주소 확인<br />
<div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>~$<span class="w"> </span>ip<span class="w"> </span>a
</span></code></pre></div><br />
결과: <br />
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>    inet 127.0.0.1/8 scope host lo
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>       valid_lft forever preferred_lft forever
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>    inet6 ::1/128 scope host 
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>       valid_lft forever preferred_lft forever
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>2: wlo1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default qlen 1000
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>    link/ether 0c:7a:15:96:bb:e9 brd ff:ff:ff:ff:ff:ff
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>    altname wlp0s20f3
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>    inet 172.30.1.54/24 brd 172.30.1.255 scope global dynamic noprefixroute wlo1
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>       valid_lft 2048sec preferred_lft 2048sec
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>    inet6 fe80::699e:5519:cade:8599/64 scope link noprefixroute 
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>       valid_lft forever preferred_lft forever
</span></code></pre></div><br />
* <code>lo</code> : 자기 자신과 통신하는 루프백 인터페이스(네트워크 카드가 없는 가상 네트워크)<br />
* <code>scope host</code> : 이 주소는 자기 자신에게만<br />
* <code>wlo1</code> : 실제 무선 네트워크 인터페이스(wifi)<br />
* <code>BROADCAST</code>: 브로드캐스트 기능 사용 가능 (네트워크 전체에 신호 보내기)<br />
* <code>MULTICAST</code>: 멀티캐스트 기능 가능 (특정 그룹에만 데이터 보내기)<br />
* <code>UP</code>: 장치가 활성화됨<br />
* <code>LOWER_UP</code>: 연결도 됨 (Wi-Fi가 연결된 상태)<br />
* <code>mtu 1500</code>: 한 번에 보낼 수 있는 최대 패킷 크기 (보통 1500 byte)<br />
* <code>link/ether</code>: 이더넷 방식의 링크계층(wifi든 유선이든 lan 방식이면) <br />
* <code>0c:7a:15:96:bb:e9</code> : 내 네트워크 카드의 mac주소(이름표)<br />
* <code>altname</code> : 자세한 이름 wlp0s20f3<br />
* <code>inet</code> : 내 기기의 IPv4 주소는 172.30.1.54(논리적 로컬주소)<br />
* <code>/24</code> : 서브넷마스크(ip 대역폭의 범위). 앞 24비트가 네트워크 부분, 나머지 8비트는 호스트 부분. 따라서 172.30.1.0~172.30.1.255가 같은 네트워크.<br />
* <code>brd</code> : 브로드캐스트 IPv4 주소는 172.30.1.255<br />
* <code>scope gloabl</code> : 이 주소는 외부에서 접근 가능<br />
* <code>dynamic</code> : DHCP로 자동 할당됨. 즉 부팅할때마다 바뀜<br />
* <code>noprefixroute</code> : 고급 라우팅 설정이 비활성화<br />
* <code>valid_lft</code> : 이 ip가 유효한 기간<br />
* <code>preferred_lft</code> : 이 ip가 우선적으로 사용되는 기간<br />
* <code>inet6</code> : IPv6주소</p>
<p>step 2. 공유기 ip주소 확인<br />
<div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>~$<span class="w"> </span>ip<span class="w"> </span>route
</span></code></pre></div><br />
<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>default via 172.30.1.254 dev wlo1 proto dhcp metric 600 
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>169.254.0.0/16 dev wlo1 scope link metric 1000 
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>172.30.1.0/24 dev wlo1 proto kernel scope link src 172.30.1.210 metric 600
</span></code></pre></div><br />
* 172.30.1.254로 확인</p>
<hr />
<h3 id="3-ip-server">3&gt; ip 주소 고정 - server 버전<a class="headerlink" href="#3-ip-server" title="Permanent link">🔗</a></h3>
<p><div class="language-text highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>step 1. netplan 설정파일 수정
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>```bash
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>~$ ls /etc/netplan/             #파일이름 확인
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>50-cloud-init.yaml
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>~$ sudo cp /etc/netplan/50-cloud-init.yaml /etc/netplan/50-cloud-init.yaml.bak      #백업파일생성
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>~$ sudo nano /etc/netplan/50-cloud-init.yaml
</span></code></pre></div><br />
원본:<br />
<div class="language-text highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>network:
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>    version: 2
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>    wifis:
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>        renderer: networkd
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>        wlan0:
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>            access-points:
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>                KT_GiGA_1D39:
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>                    password: 4cfa7026f817ab13ef66eb1e898d54830629ad2b1734471844c7cb8ca7d31fba
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>            dhcp4: true
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>            optional: true
</span></code></pre></div><br />
수정:<br />
<div class="language-text highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>network:
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>    version: 2
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>    wifis:
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>        renderer: networkd
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>        wlan0:
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>            access-points:
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>                KT_GiGA_1D39:
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>                    password: 4cfa7026f817ab13ef66eb1e898d54830629ad2b1734471844c7cb8ca7d31fba
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>            dhcp4: false
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>            addresses:
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>              - 172.30.1.222/24
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a>            gateway4: 172.30.1.254
</span><span id="__span-6-13"><a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a>            nameservers:
</span><span id="__span-6-14"><a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a>              addresses:
</span><span id="__span-6-15"><a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a>                - 8.8.8.8
</span><span id="__span-6-16"><a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a>                - 1.1.1.1
</span><span id="__span-6-17"><a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a>            optional: true
</span></code></pre></div><br />
* dhcp4 할당을 없애고, 주소를 172.30.1.222으로 고정<br />
* gateway4는 공유기 주소 입력란. 우리는 172.30.1.254임<br />
* 8.8.8.8은 구글에서 제공하는 DNS 서버</p>
<blockquote>
<p>⚠️ 만약 부팅 파일이 어떤 일이 있어도 영향을 안주게 하고 싶다면 주석이 시키는대로 (어차피 최초 부팅때 netplan/50-cloud-init.yaml을 생성하고 사라지긴 함)<br />
<div class="language-text highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a># /etc/cloud/cloud.cfg.d/99-disable-network-config.cfg with the following:
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a># network: {config: disabled}
</span></code></pre></div></p>
</blockquote>
<p>step 3. 적용<br />
<div class="language-text highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>~$ sudo netplan generate      #문법 확인
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>~$ sudo netplan apply
</span></code></pre></div></p>
<p>step 4. ip 주소 변화로 ssh 끊겼으니 재접속<br />
<div class="language-bash highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>~$<span class="w"> </span>ssh-keygen<span class="w"> </span>-R<span class="w"> </span><span class="m">172</span>.30.1.89<span class="w">      </span><span class="c1">#기존 known_hosts 삭제</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>~$<span class="w"> </span>ssh<span class="w"> </span>kkongnyang2@172.30.1.222
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>The<span class="w"> </span>authenticity<span class="w"> </span>of<span class="w"> </span>host<span class="w"> </span><span class="s1">&#39;172.30.1.222 (172.30.1.222)&#39;</span><span class="w"> </span>can<span class="s1">&#39;t be established.</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="s1">ED25519 key fingerprint is SHA256:B5ycXkgh3UjpXdAqAmERIIt83MZghSEiIo+p+tj3fvo.</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="s1">This key is not known by any other names</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="s1">Are you sure you want to continue connecting (yes/no/[fingerprint])?  yes</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="s1">Warning: Permanently added &#39;</span><span class="m">172</span>.30.1.222<span class="s1">&#39; (ED25519) to the list of known hosts.</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="s1">kkongnyang2@172.30.1.222&#39;</span>s<span class="w"> </span>password:<span class="w"> </span>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>Welcome<span class="w"> </span>to<span class="w"> </span>Ubuntu<span class="w"> </span><span class="m">22</span>.04.5<span class="w"> </span>LTS<span class="w"> </span><span class="o">(</span>GNU/Linux<span class="w"> </span><span class="m">5</span>.15.0-1079-raspi<span class="w"> </span>aarch64<span class="o">)</span>
</span></code></pre></div></p>
<hr />
<h3 id="4-ip-desktop">4&gt; ip 주소 고정 - desktop 버전<a class="headerlink" href="#4-ip-desktop" title="Permanent link">🔗</a></h3>
<p>*ubuntu desktop에서는 netplan보다 networkmanager우선</p>
<p>step 1. networkmanager 설정<br />
<div class="language-bash highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>~$<span class="w"> </span>ls<span class="w"> </span>~$<span class="w"> </span>nm-connection-editor
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>KT_GiGA_1D39<span class="w"> </span>-<span class="w"> </span>IPv4<span class="w"> </span>settings<span class="w"> </span>들어가서
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>dhcp가<span class="w"> </span>아닌<span class="w"> </span>manual로<span class="w"> </span>바꾸고
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>address:<span class="w"> </span><span class="m">170</span>.30.1.210,<span class="w"> </span>netmask:<span class="w"> </span><span class="m">24</span>,<span class="w"> </span>gateway:<span class="w"> </span><span class="m">172</span>.30.1.254
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>DNS<span class="w"> </span>servers:<span class="w"> </span><span class="m">8</span>.8.8.8,<span class="w"> </span><span class="m">1</span>.1.1.1<span class="w"> </span>입력
</span></code></pre></div></p>
<p>step 2. 저장 후 wifi 껐다 키기</p>
<blockquote>
<p>⚠️ 안될때 테스트:<br />
<div class="language-bash highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>ping<span class="w"> </span><span class="m">172</span>.30.1.254<span class="w">     </span><span class="c1">#안되면 로컬 공유기 통신 문제</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>ping<span class="w"> </span><span class="m">8</span>.8.8.8<span class="w">          </span><span class="c1">#안되면 게이트웨이 문제</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>ping<span class="w"> </span>google.com<span class="w">       </span><span class="c1">#안되면 DNS 문제</span>
</span></code></pre></div></p>
</blockquote>
<p>여기까지 하면 내 기기의 ip주소를 하나로 고정한거임!</p>
<hr />
<h3 id="5-apache2">5&gt; Apache2 웹 서버 설치<a class="headerlink" href="#5-apache2" title="Permanent link">🔗</a></h3>
<p>Apache2는 가장 널리 쓰이는 웹 서버로, 브라우저에서 http://내IP로 접속하면 html페이지를 보여줌</p>
<p>step 1. 설치<br />
<div class="language-bash highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>~$<span class="w"> </span>sudo<span class="w"> </span>apt<span class="w"> </span>update<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>apache2
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>~$<span class="w"> </span>apache2<span class="w"> </span>-version
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>Server<span class="w"> </span>version:<span class="w"> </span>Apache/2.4.52<span class="w"> </span><span class="o">(</span>Ubuntu<span class="o">)</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>Server<span class="w"> </span>built:<span class="w">   </span><span class="m">2025</span>-04-03T09:05:48
</span></code></pre></div></p>
<p>step 2. 확인<br />
<div class="language-text highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>~$ sudo timedatectl set-timezone Asia/Seoul     #서버 시간 업데이트
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>로컬 네트워크로 http://172.30.1.222 들어가보기
</span></code></pre></div></p>
<p>step 3. 소유자 및 퍼미션 확인<br />
<div class="language-text highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>~$ ls -ld /var/www/html
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>drwxr-xr-x 2 root root 4096 Jun 14 04:55 /var/www/html      #이미 잘 되어있지만 안되어 있으면 아래대로
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>~$ sudo chown root:root /var/www/html
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>~$ sudo find /var/www/html -type d -exec chmod 755 {} \;
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>~$ sudo find /var/www/html -type f -exec chmod 644 {} \;
</span></code></pre></div><br />
* 소유자는 root:root, 755(디렉토리)임을 확인<br />
* apache2 기본 페이지는 정적 사이트로 html만 업로드 할거기에 변경 필요 없음.<br />
* 만일 쓰기가 필요한 동적 폴더가 있다면 따로 chown(소유자)를 www-data:www-data로 줘야함.</p>
<p>step 4. html 파일 업로드<br />
<div class="language-text highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>~$ sudo nano /var/www/html/index.html           #index 파일 수정
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>~$ sudo mkdir /var/www/html/dev-environment     #새 디렉토리 생성
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>~$ sudo touch /var/www/html/dev-environment/1-os.html   #파일 생성
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>~$ sudo nano /var/www/html/dev-environment/1-os.html    #파일 수정
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>~$ ls -ld /var/www/html/dev-environment/1-os.html       #권한 정상인지 확인
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>-rw-r--r-- 1 root root 7962 Jun 14 05:28 /var/www/html/dev-environment/1-os.html
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a>~$ sudo rm -rf /var/www/html/dev-environment      # 콘텐츠·폴더 모두 완전 삭제
</span></code></pre></div></p>
<hr />
<h3 id="6">6&gt; 포트포워딩<a class="headerlink" href="#6" title="Permanent link">🔗</a></h3>
<p>외부에서 접속 가능하도록.<br />
외부 공인 ip인 U2FsdGVkX19uR7WUsjBbuMdF4oG3heLi0O+nMKzum2Y=(업로드용) 를 치고 들어오면 공유기(안내원)가 포트포워딩 규칙에 의해 172.30.1.222 서버로 전달되도록.</p>
<p>step 1. 포트 연결<br />
<div class="language-text highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>http://172.30.1.254 로 접속(공유기 페이지)
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>외부 포트 80과 U2FsdGVkX19uR7WUsjBbuMdF4oG3heLi0O+nMKzum2Y=(업로드용) -&gt; 내부 포트 80과 172.30.1.222로 대응. 프로토콜은 TCP.
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>외부 포트 443과 U2FsdGVkX19uR7WUsjBbuMdF4oG3heLi0O+nMKzum2Y=(업로드용) -&gt; 내부 포트 443과 172.30.1.222로 대응. 프로토콜은 TCP.
</span></code></pre></div></p>
<p>step 2. 확인<br />
<div class="language-text highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>외부 네트워크로 http://U2FsdGVkX19uR7WUsjBbuMdF4oG3heLi0O+nMKzum2Y=(업로드용) 들어가보기
</span></code></pre></div></p>
<p>step 3. 방화벽 설정<br />
<div class="language-bash highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>~$<span class="w"> </span>sudo<span class="w"> </span>ufw<span class="w"> </span>status<span class="w"> </span>verbose
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>Status:<span class="w"> </span>inactive<span class="w">          </span><span class="c1">#방화벽 비활성화인거 확인</span>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>~$<span class="w"> </span>sudo<span class="w"> </span>ufw<span class="w"> </span>allow<span class="w"> </span><span class="m">22</span>/tcp<span class="w">     </span><span class="c1">#얘넨 허용</span>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>~$<span class="w"> </span>sudo<span class="w"> </span>ufw<span class="w"> </span>allow<span class="w"> </span><span class="m">80</span>,443/tcp<span class="w"> </span><span class="c1">#얘넨 허용</span>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>~$<span class="w"> </span>sudo<span class="w"> </span>ufw<span class="w"> </span><span class="nb">enable</span><span class="w">           </span><span class="c1">#방화벽 활성화</span>
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>~$<span class="w"> </span>sudo<span class="w"> </span>ufw<span class="w"> </span>status<span class="w"> </span>verbose
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a>To<span class="w">                         </span>Action<span class="w">      </span>From
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a>--<span class="w">                         </span>------<span class="w">      </span>----
</span><span id="__span-18-9"><a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a><span class="m">22</span>/tcp<span class="w">                     </span>ALLOW<span class="w"> </span>IN<span class="w">    </span>Anywhere<span class="w">                  </span>
</span><span id="__span-18-10"><a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a><span class="m">80</span>,443/tcp<span class="w">                 </span>ALLOW<span class="w"> </span>IN<span class="w">    </span>Anywhere<span class="w">                  </span>
</span><span id="__span-18-11"><a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a><span class="m">22</span>/tcp<span class="w"> </span><span class="o">(</span>v6<span class="o">)</span><span class="w">                </span>ALLOW<span class="w"> </span>IN<span class="w">    </span>Anywhere<span class="w"> </span><span class="o">(</span>v6<span class="o">)</span><span class="w">             </span>
</span><span id="__span-18-12"><a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a><span class="m">80</span>,443/tcp<span class="w"> </span><span class="o">(</span>v6<span class="o">)</span><span class="w">            </span>ALLOW<span class="w"> </span>IN<span class="w">    </span>Anywhere<span class="w"> </span><span class="o">(</span>v6<span class="o">)</span><span class="w"> </span>
</span></code></pre></div></p>
<hr />
<h3 id="7-ddns">7&gt; 도메인 및 DDNS<a class="headerlink" href="#7-ddns" title="Permanent link">🔗</a></h3>
<p>step 1. No-ip 사이트 가입<br />
<div class="language-text highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>이메일: i.kkongnyang2@gmail.com
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>비번: U2FsdGVkX1+pMjybe35mgNJBuIV/tF+brc3SX+Rcqvw=(업로드용)
</span></code></pre></div></p>
<p>step 2. 도메인 생성<br />
<div class="language-text highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>도메인 http://i-kkongnyang2.myddns.me와 외부 공인 ip(현재는 U2FsdGVkX19uR7WUsjBbuMdF4oG3heLi0O+nMKzum2Y=(업로드용)) 연결.
</span></code></pre></div></p>
<blockquote>
<p>⚠️ KT 공유기 NAT 문제로 이건 안해놓음. 그래서 외부 공인 ip 바뀌면 수동으로 바꿔줘야 함.<br />
step 3. DDNS 클라이언트 설치<br />
<div class="language-bash highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>~$<span class="w"> </span>wget<span class="w"> </span>https://www.noip.com/client/linux/noip-duc-linux.tar.gz
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>~$<span class="w"> </span>tar<span class="w"> </span>xzf<span class="w"> </span>noip-duc-linux.tar.gz
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>~$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>noip-2.1.9-1
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a>~/noip-2.1.9-1$<span class="w"> </span>sudo<span class="w"> </span>make
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a>~/noip-2.1.9-1$<span class="w"> </span>sudo<span class="w"> </span>make<span class="w"> </span>install
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a>가입한<span class="w"> </span>이메일<span class="w"> </span>입력
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a>가입한<span class="w"> </span>비번<span class="w"> </span>입력
</span><span id="__span-21-8"><a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a>도메인<span class="w"> </span>선택
</span><span id="__span-21-9"><a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a>갱신<span class="w"> </span>시간<span class="w"> </span>설정<span class="o">(</span>기본<span class="w"> </span>30분<span class="o">)</span>
</span><span id="__span-21-10"><a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a>갱신되면<span class="w"> </span>뭐<span class="w"> </span>할거니?<span class="w"> </span>y
</span><span id="__span-21-11"><a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a>그<span class="w"> </span>프로그램<span class="w"> </span>이름<span class="w"> </span>입력<span class="w"> </span>안함
</span><span id="__span-21-12"><a id="__codelineno-21-12" name="__codelineno-21-12" href="#__codelineno-21-12"></a>이<span class="w"> </span>설정파일들은<span class="w"> </span>/usr/local/etc/no-ip2.conf<span class="w"> </span>에<span class="w"> </span>저장
</span></code></pre></div></p>
</blockquote>
<p>step 4. DDNS 클라이언트 실행<br />
<div class="language-bash highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>~$<span class="w"> </span>sudo<span class="w"> </span>/usr/local/bin/noip2<span class="w">            </span><span class="c1">#실행</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>~$<span class="w"> </span>sudo<span class="w"> </span>/usr/local/bin/noip2<span class="w"> </span>-S<span class="w">         </span><span class="c1">#실행 확인</span>
</span></code></pre></div><br />
* NAT=주소 변환<br />
[Raspberry Pi] 172.30.1.220 ──<br />
                           ├─ 포트포워딩 (80/443)<br />
[공유기]        112.168.5.119 (1차 IP)<br />
                           │  &lt;─ 내부 NAT (KT 라우터/BRAS)<br />
[KT망]          U2FsdGVkX19uR7WUsjBbuMdF4oG3heLi0O+nMKzum2Y=(업로드용) (2차 IP) ── Internet</p>
<hr />
<h3 id="8-https">8&gt; https로 리디렉션<a class="headerlink" href="#8-https" title="Permanent link">🔗</a></h3>
<p>step 1. apache2 설정파일에 도메인 추가<br />
<div class="language-bash highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>~$<span class="w"> </span>sudo<span class="w"> </span>nano<span class="w"> </span>/etc/apache2/sites-available/000-default.conf
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a>ServerName<span class="w"> </span>i-kkongnyang2.myddns.me
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a>ServerAdmin<span class="w"> </span>webmaster@localhost
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a>DocumentRoot<span class="w"> </span>/var/www/html
</span></code></pre></div></p>
<p>step 2. certbot 설치<br />
<div class="language-bash highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>~$<span class="w"> </span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>certbot<span class="w"> </span>python3-certbot-apache
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a>~$<span class="w"> </span>sudo<span class="w"> </span>certbot<span class="w"> </span>--apache<span class="w"> </span>-d<span class="w"> </span>i-kkongnyang2.myddns.me
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a>안내받을<span class="w"> </span>이메일<span class="w"> </span>i.kkongnyang2@gmail.com
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a>약관동의<span class="w"> </span>y
</span><span id="__span-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a>광고수신동의<span class="w"> </span>N
</span><span id="__span-24-6"><a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a>Successfully<span class="w"> </span>deployed<span class="w"> </span>certificate<span class="w"> </span><span class="k">for</span><span class="w"> </span>i-kkongnyang2.myddns.me<span class="w"> </span>to<span class="w"> </span>/etc/apache2/sites-available/000-default-le-ssl.conf
</span><span id="__span-24-7"><a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a>Congratulations!<span class="w"> </span>You<span class="w"> </span>have<span class="w"> </span>successfully<span class="w"> </span>enabled<span class="w"> </span>HTTPS<span class="w"> </span>on<span class="w"> </span>https://i-kkongnyang2.myddns.me
</span></code></pre></div></p>
<hr />
<h3 id="9">9&gt; 테스트<a class="headerlink" href="#9" title="Permanent link">🔗</a></h3>
<div class="language-text highlight"><pre><span></span><code>  테스트 환경                 로컬IP                 외부IP              도메인
</code></pre></div>
<p>KT_GiGA_1D39(동일 와이파이)          O                     X                X            #NAT loopback이 없어서 불가능<br />
KT_GiGA_5G_1D39(다른 와이파이)       O                     O                O<br />
LTE/5G 데이터                       X                     O                O           #인터넷에선 로컬 ip주소를 쳤을때 안내해줄 안내원이 없음</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.instant", "content.code.copy", "toc.integrate", "header.autohide", "search.suggest"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "\ud074\ub9bd\ubcf4\ub4dc\uc5d0 \ubcf5\uc0ac\ub428", "clipboard.copy": "\ud074\ub9bd\ubcf4\ub4dc\ub85c \ubcf5\uc0ac", "search.result.more.one": "\uc774 \ubb38\uc11c\uc5d0\uc11c 1\uac1c\uc758 \uac80\uc0c9 \uacb0\uacfc \ub354 \ubcf4\uae30", "search.result.more.other": "\uc774 \ubb38\uc11c\uc5d0\uc11c #\uac1c\uc758 \uac80\uc0c9 \uacb0\uacfc \ub354 \ubcf4\uae30", "search.result.none": "\uac80\uc0c9\uc5b4\uc640 \uc77c\uce58\ud558\ub294 \ubb38\uc11c\uac00 \uc5c6\uc2b5\ub2c8\ub2e4", "search.result.one": "1\uac1c\uc758 \uc77c\uce58\ud558\ub294 \ubb38\uc11c", "search.result.other": "#\uac1c\uc758 \uc77c\uce58\ud558\ub294 \ubb38\uc11c", "search.result.placeholder": "\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud558\uc138\uc694", "search.result.term.missing": "\ud3ec\ud568\ub418\uc9c0 \uc54a\uc740 \uac80\uc0c9\uc5b4", "select.version": "\ubc84\uc804 \uc120\ud0dd"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.56ea9cef.min.js"></script>
      
    
  </body>
</html>